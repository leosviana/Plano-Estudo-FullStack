<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>DESAFIO</title>
</head>
<body>
    <h2>DESAFIO 002</h2>
    <div class="container">
        <div class="card">
            <p id="titulo1">Produto 1</p>
            <p id="categoria1">Categoria 1</p>
        </div>
        <div class="card">
            <p id="titulo2">Produto 2</p>
            <p id="categoria2">Categoria 2</p>
        </div>
        <div class="card">
            <p id="titulo3">Produto 3</p>
            <p id="categoria3">Categoria 3</p>
        </div>
        <div class="card">
            <p id="titulo4">Produto 4</p>
            <p id="categoria4">Categoria 4</p>
        </div>
        <div class="card">
            <p id="titulo5">Produto 5</p>
            <p id="categoria5">Categoria 5</p>
        </div>        
    </div>
    <p>Produtos filtrados por categoria "eletronicos":</p>
    <div id="filtro">Produtos Filtrados</div>

    <script>
        const anuncios = [
            {titulo: "Iphone 14", categoria: "eletronicos"},
            {titulo: "Tenis Nike", categoria: "moda"},
            {titulo: "SofÃ¡ retratil", categoria: "casa"},
            {titulo: "Smart TV 50", categoria: "eletronicos"},
            {titulo: "Camisa Polo", categoria: "moda"}
        ]
        //EXIBE OS PRODUTOS EM TELA
        anuncios.forEach((item, index) => { //Loop que exibe o array de anuncios
            const produto = document.getElementById(`titulo${index + 1}`); //Armazena o titulo do produto indice 0, 1, 2...
            if(produto){ 
                produto.textContent = item.titulo; //Campo de tÃ­tulo do html vai conter o tÃ­tulo da variÃ¡vel
            }
            const categoria = document.getElementById(`categoria${index + 1}`);
            if(categoria){
                categoria.textContent = item.categoria;
            }
        });

        //FUNÃ‡ÃƒO COM CALLBACK QUE FILTRA OS ANUNCIOS POR CATEGORIA
        const filtraPorCategoria = (categoria, callback) => { //categoria(Elemento que serÃ¡ usado), callback(outra funÃ§Ã£o)
            const resultado = anuncios.filter((item) => item.categoria === categoria); 
            //filter = uma funÃ§Ã£o interna que realiza um filtro
            //Filtra uma categoria conforme informada
            callback(resultado);
        };

        //OUTRA FUNÃ‡ÃƒO CALLBACK - Exibe os elementos encontrados
        const campoFiltro = document.getElementById('filtro');
        const mostrarFiltro = (lista) => {
            console.log("Anuncios encontrados!");
            campoFiltro.textContent = "";
            lista.forEach((item) => {
                console.log(`ðŸ“Œ${item.titulo} - Categoria: ${item.categoria}`);
                campoFiltro.innerHTML += `ðŸ“Œ${item.titulo} - Categoria: ${item.categoria}<br>`;
            });
        }     

        //Chamada real
        filtraPorCategoria("eletronicos", mostrarFiltro);
    </script>
    
</body>
</html>